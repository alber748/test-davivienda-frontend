<app-spinner *ngIf="isLoading"></app-spinner>

<div class="flex max-w-5xl mx-auto flex-col justify-center items-center bg-gray-900 text-white mt-40 relative">
  <app-menu></app-menu>
  <h1 class="text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-blue-600 mb-8 mt-32">
    Información Personal
  </h1>
  
  <!-- Campo de búsqueda -->
  <div class="w-full max-w-xl flex space-x-4 mb-6">
    <input [(ngModel)]="id"
      type="text"
      placeholder="Ingrese un número"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-gray-700"
    />
    <button (click)="getPersonInfo(id)"
      class="px-6 py-2 bg-gradient-to-r from-blue-500 to-green-500 text-white font-semibold rounded-lg shadow-md hover:bg-gradient-to-r hover:from-blue-600 hover:to-green-600 transition-all transform hover:-translate-y-1">
      Buscar
    </button>
  </div>

  <!-- Tabla de resultados -->
  <div *ngIf="person" class="w-full max-w-5xl overflow-hidden rounded-lg shadow-lg">
    <table class="table-auto w-full text-left bg-gray-800">
      <thead>
        <tr class="bg-gray-700">
          <th class="px-4 py-2 text-teal-400">Nombre</th>
          <th class="px-4 py-2 text-teal-400">SSN</th>
          <th class="px-4 py-2 text-teal-400">Fecha de Nacimiento</th>
          <th class="px-4 py-2 text-teal-400">Edad</th>
          <th class="px-4 py-2 text-teal-400">Dirección de Casa</th>
          <th class="px-4 py-2 text-teal-400">Dirección de Oficina</th>
          <th class="px-4 py-2 text-teal-400">Colores Favoritos</th>
        </tr>
      </thead>
      <tbody>
        <tr class="border-t border-gray-700">
          <td class="px-4 py-3">{{ person.name }}</td>
          <td class="px-4 py-3">{{ person.ssn }}</td>
          <td class="px-4 py-3">{{ person.dob | date }}</td>
          <td class="px-4 py-3">{{ person.age }}</td>
          <td class="px-4 py-3">{{ person.home.street }}, {{ person.home.city }}, {{ person.home.state }} {{ person.home.zip }}</td>
          <td class="px-4 py-3">{{ person.office.street }}, {{ person.office.city }}, {{ person.office.state }} {{ person.office.zip }}</td>
          <td class="px-4 py-3">{{ person.favoriteColors.favoriteColorsItem.join(', ') }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <p *ngIf="errorMessage" class="text-red-500 mt-4">{{ errorMessage }}</p>
</div>